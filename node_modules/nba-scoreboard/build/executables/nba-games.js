'use strict';
'use es6';

var _commander = require('commander');

var _commander2 = _interopRequireDefault(_commander);

var _CommandExecutionService = require('../services/CommandExecutionService');

var _CommandExecutionService2 = _interopRequireDefault(_CommandExecutionService);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_commander2.default.arguments('[option]').action(function (option) {
  try {
    return _CommandExecutionService2.default.executeGamesCommand(option.trim()).then(function (tables) {
      if (tables.started.size !== 0) {
        tables.started.forEach(function (table) {
          return console.log(table);
        });
      }

      if (typeof tables.upcoming !== 'undefined') {
        console.log(tables.upcoming);
      }

      if (tables.started.size == 0 && typeof tables.upcoming == 'undefined') {
        console.log('Could not find games');
      }
    });
  } catch (Error) {
    console.error('Could not get NBA games');
  }
}).parse(process.argv);